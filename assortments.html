<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fishing Flies Shop</title>

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:Arial,sans-serif;}
body{background:#f5f5f5;}

/* NAVBAR */
header{background:#0b3d2e;color:#fff;padding:15px;}
.nav{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;max-width:1200px;margin:auto;}
.nav h1{font-size:22px;}
.nav ul{list-style:none;display:flex;gap:20px;align-items:center;}
.nav ul li{display:flex;align-items:center;}
.nav a{color:#fff;text-decoration:none;font-weight:bold;}
.nav img.home-icon{width:24px;height:24px;margin-right:5px;}

/* MENU TOGGLE */
.menu-toggle{display:none;font-size:28px;background:none;border:none;color:#fff;cursor:pointer;}

/* RESPONSIVE NAV */
@media(max-width:768px){
  .menu-toggle{display:block;}
  .nav ul{position:fixed;top:0;left:-260px;height:100%;width:250px;background:#0b3d2e;flex-direction:column;align-items:flex-start;padding:70px 20px;gap:20px;transition:0.3s;}
  .nav ul.active{left:0;}
  .nav ul li{width:100%;}
  .nav ul input{width:100%;}
}

/* CONTAINER */
.container{max-width:1200px;margin:auto;padding:30px 20px;}

/* 4 COLUMN GRID */
.products{display:grid;grid-template-columns:repeat(4,1fr);gap:25px;}
@media(max-width:1024px){.products{grid-template-columns:repeat(3,1fr);}}
@media(max-width:768px){.products{grid-template-columns:repeat(2,1fr);}}
@media(max-width:500px){.products{grid-template-columns:1fr;}}

/* CARD */
.card{background:#fff;border-radius:12px;overflow:hidden;box-shadow:0 4px 12px rgba(0,0,0,0.08);transition:0.3s;padding-bottom:15px;}
.card:hover{transform:translateY(-8px);box-shadow:0 10px 20px rgba(0,0,0,0.15);}
.card img{width:100%;height:200px;object-fit:cover;}
.card-content{padding:15px;}
.card h3{margin-bottom:8px;}
.card p{font-size:14px;color:#555;margin-bottom:10px;}
.price{font-weight:bold;color:#0b3d2e;margin-bottom:10px;}
button{width:100%;padding:10px;background:#0b3d2e;color:#fff;border:none;border-radius:6px;cursor:pointer;transition:0.3s;margin-top:5px;}
button:hover{background:#145c46;}
button.buy-now{background:#ff6600;}
button.buy-now:hover{background:#e65c00;}
select,input{width:100%;padding:8px;margin:8px 0;border-radius:5px;border:1px solid #ccc;}

/* MODAL */
.modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);justify-content:center;align-items:center;padding:20px;z-index:1000;}
.modal-content{background:#fff;width:100%;max-width:500px;padding:25px;border-radius:10px;position:relative;animation:fadeIn 0.3s ease;}
.modal-content img{width:100%;height:250px;object-fit:cover;border-radius:8px;margin-bottom:15px;}
.close{position:absolute;right:15px;top:10px;font-size:22px;cursor:pointer;color:#555;}
@keyframes fadeIn{from{opacity:0;transform:scale(0.9);}to{opacity:1;transform:scale(1);}}

/* CART */
.cart{background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,0.08);margin-top:30px;}
.cart h2{margin-bottom:15px;}
.cart-item{display:flex;justify-content:space-between;align-items:center;padding:10px 0;border-bottom:1px solid #eee;}
.cart-item span{flex:1;}
.cart-item input{width:60px;margin-right:10px;}
.cart-total{font-weight:bold;margin-top:15px;font-size:18px;}
.cart button{width:auto;margin:5px 5px 0 0;padding:8px 15px;}

/* CATEGORY BAR */
.category-bar{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  margin-bottom:25px;
}

.category-bar button{
  flex:1;
  min-width:120px;
  padding:10px;
  background:#145c46;
  border:none;
  color:#fff;
  border-radius:6px;
  cursor:pointer;
  transition:0.3s;
}

.category-bar button:hover{
  background:#0b3d2e;
}

/* FOOTER */
footer{background:#0b3d2e;color:#fff;text-align:center;padding:15px;margin-top:40px;}
</style>
</head>
<body>

<header>
  <div class="nav">
    <h1>ðŸŽ£ Fishing Flies Shop</h1>

    <!-- MENU TOGGLE -->
    <button class="menu-toggle" onclick="toggleMenu()">â˜°</button>

    <ul id="navMenu">
      <li><a href="index.html"><img src="https://img.icons8.com/ios-filled/50/ffffff/home.png" class="home-icon"/></a></li>
      <li><a href="#products">Flies</a></li>
      <li><a href="cart.html">Cart</a></li>
      <li><a href="#reviews">Reviews</a></li>
      <li><input type="text" id="searchInput" placeholder="Search flies..." onkeyup="searchFlies()"></li>
    </ul>
  </div>
</header>

<div class="container">
<h2>Fishing Flies Collection</h2><br>
<!-- CATEGORY BAR -->

<div class="category-bar">
  <button onclick="openCategory('assortments.html')">Assortments</button>
  <button onclick="openCategory('dryflies.html')">Dry Flies</button>
  <button onclick="openCategory('streamers.html')">Streamers</button>
  <button onclick="openCategory('steelhead.html')">Steelhead</button>
  <button onclick="openCategory('pikeflies.html')">Pike Flies</button>
  <button onclick="openCategory('nymphs.html')">Nymphs</button>
  <button onclick="openCategory('lakeflies.html')">Lake Flies</button>
</div>

<div class="products" id="productList"></div>

<!-- CART SECTION -->
<section class="cart" id="cartSection">
<h2>ðŸ›’ Cart</h2>
<div id="cartItems"></div>
<div class="cart-total">Total: KES <span id="cartTotal">0</span></div>
<button onclick="payNow()">Pay Now</button>
<button onclick="payLater()">Pay on Delivery</button>
<p id="cartReceipt"></p>
</section>
</div>

<!-- PRODUCT MODAL -->
<div class="modal" id="productModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">&times;</span>
    <img id="modalImage">
    <h3 id="modalTitle"></h3>
    <p id="modalDesc"></p>
    <p class="price" id="modalPrice"></p>
    <label>Size</label>
    <select id="modalSize"></select>
    <label>Color</label>
    <select id="modalColor"></select>
    <label>Quantity</label>
    <input type="number" id="modalQty" min="1" value="1">
    <button onclick="addToCartModal()">Add to Cart</button>
    <button class="buy-now" onclick="buyNowModal()">Buy Now</button>
  </div>
</div>

<footer>
Â© 2026 Fishing Flies Shop
</footer>

<script>
// NAV MENU TOGGLE
function toggleMenu(){ document.getElementById("navMenu").classList.toggle("active"); }

// PRODUCTS DATA
const products = [
{ name:"Dry Fly â€“ Adams", desc:"Classic surface fishing fly perfect for trout in calm waters.", price:350, sizes:["10","12","14","16","18","20"], colors:["Brown","Gray"] },
{ name:"Nymph â€“ Pheasant Tail", desc:"Highly effective underwater fly for river trout.", price:400, sizes:["10","12","14","16","18","20"], colors:["Copper","Olive"] },
{ name:"Wet Fly â€“ Black Ghost", desc:"Ideal for fishing in low light conditions.", price:380, sizes:["10","12","14","16","18","20"], colors:["Black"] },
{ name:"Streamer â€“ Woolly Bugger", desc:"A powerful attractor for larger trout.", price:450, sizes:["10","12","14","16","18","20"], colors:["Black","Olive"] },
{ name:"Royal Wulff", desc:"High floating attractor pattern.", price:420, sizes:["10","12","14","16","18","20"], colors:["Red","White"] },
{ name:"Elk Hair Caddis", desc:"Perfect fly for fast-moving water.", price:390, sizes:["10","12","14","16","18","20"], colors:["Tan","Brown"] },
{ name:"Hopper Pattern", desc:"Great during summer months.", price:460, sizes:["10","12","14","16","18","20"], colors:["Green","Yellow"] },
{ name:"Midge Fly", desc:"Small but extremely effective.", price:300, sizes:["10","12","14","16","18","20"], colors:["Gray","Black"] }
];

const productList = document.getElementById("productList");
const cartItemsDiv = document.getElementById("cartItems");
const cartTotalSpan = document.getElementById("cartTotal");
const cartReceipt = document.getElementById("cartReceipt");
let currentProductIndex = null;
let cart = JSON.parse(localStorage.getItem("cart")) || [];

// RENDER PRODUCTS
products.forEach((p,index)=>{
  const card = document.createElement("div");
  card.className="card";
  card.innerHTML=`
    <img src="https://via.placeholder.com/400x300">
    <div class="card-content">
      <h3>${p.name}</h3>
      <p>${p.desc.substring(0,50)}...</p>
      <div class="price">KES ${p.price}</div>
      <button onclick="viewProduct(${index})">View</button>
    </div>
  `;
  productList.appendChild(card);
});

// VIEW PRODUCT
function viewProduct(index){
  currentProductIndex = index;
  const p = products[index];
  document.getElementById("modalTitle").innerText = p.name;
  document.getElementById("modalDesc").innerText = p.desc;
  document.getElementById("modalPrice").innerText = "KES " + p.price;
  document.getElementById("modalImage").src = "https://via.placeholder.com/400x300";
  document.getElementById("modalSize").innerHTML = `<option value="">Select Size</option>` + p.sizes.map(s=>`<option>${s}</option>`).join("");
  document.getElementById("modalColor").innerHTML = `<option value="">Select Color</option>` + p.colors.map(c=>`<option>${c}</option>`).join("");
  document.getElementById("modalQty").value = 1;
  document.getElementById("productModal").style.display="flex";
}
function closeModal(){ document.getElementById("productModal").style.display="none"; }

// CART FUNCTIONS
function renderCart(){
  cartItemsDiv.innerHTML="";
  let total = 0;
  cart.forEach((item,index)=>{
    const div = document.createElement("div");
    div.className="cart-item";
    div.innerHTML=`
      <span>${item.name} (${item.size}, ${item.color})</span>
      <input type="number" min="1" value="${item.qty}" onchange="updateQty(${index}, this.value)">
      <span>KES ${item.price * item.qty}</span>
      <button onclick="removeFromCart(${index})" style="background:#ff4d4d">X</button>
    `;
    cartItemsDiv.appendChild(div);
    total += item.price * item.qty;
  });
  cartTotalSpan.innerText = total;
  localStorage.setItem("cart", JSON.stringify(cart));
}

function addToCartModal(){
  const size = document.getElementById("modalSize").value;
  const color = document.getElementById("modalColor").value;
  const qty = parseInt(document.getElementById("modalQty").value);
  if(!size || !color || qty<1){ alert("Select size, color & valid quantity!"); return; }
  const p = products[currentProductIndex];
  cart.push({name:p.name, price:p.price, size, color, qty});
  renderCart();
  closeModal();
}

function buyNowModal(){
  const size = document.getElementById("modalSize").value;
  const color = document.getElementById("modalColor").value;
  const qty = parseInt(document.getElementById("modalQty").value);
  if(!size || !color || qty<1){ alert("Select size, color & valid quantity!"); return; }
  const p = products[currentProductIndex];
  const total = p.price * qty;
  alert(`Proceeding to payment for ${qty} x ${p.name} (${size}, ${color})\nTotal: KES ${total}`);
  closeModal();
}

function removeFromCart(index){ cart.splice(index,1); renderCart(); }
function updateQty(index,value){ value=parseInt(value); if(value<1) return alert("Qty >=1"); cart[index].qty=value; renderCart(); }
function payNow(){ if(cart.length===0) return alert("Cart empty!"); let total=cart.reduce((sum,i)=>sum+i.price*i.qty,0); cartReceipt.innerText=`Payment initiated. Total: KES ${total}`; }
function payLater(){ if(cart.length===0) return alert("Cart empty!"); cartReceipt.innerText="Order placed. Pay on delivery."; }

renderCart();

// OPEN CATEGORY PAGE
function openCategory(page){
  window.location.href = page;
}

// SEARCH
function searchFlies(){
  const q = document.getElementById("searchInput").value.toLowerCase();
  document.querySelectorAll(".card").forEach(c=>c.style.display=c.innerText.toLowerCase().includes(q)?"block":"none");
}
</script>
</body>
</html>
